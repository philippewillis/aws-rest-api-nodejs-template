var Ge=Object.create;var _=Object.defineProperty;var Be=Object.getOwnPropertyDescriptor;var We=Object.getOwnPropertyNames;var Xe=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty;var p=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),ze=(e,r)=>{for(var t in r)_(e,t,{get:r[t],enumerable:!0})},Y=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of We(r))!$e.call(e,n)&&n!==t&&_(e,n,{get:()=>r[n],enumerable:!(o=Be(r,n))||o.enumerable});return e};var Q=(e,r,t)=>(t=e!=null?Ge(Xe(e)):{},Y(r||!e||!e.__esModule?_(t,"default",{value:e,enumerable:!0}):t,e)),Ke=e=>Y(_({},"__esModule",{value:!0}),e);var ne=p((Wr,te)=>{var Ve=require("path").relative;te.exports=er;var Je=process.cwd();function ee(e,r){for(var t=e.split(/[ ,]+/),o=String(r).toLowerCase(),n=0;n<t.length;n++){var a=t[n];if(a&&(a==="*"||a.toLowerCase()===o))return!0}return!1}function Ye(e,r,t){var o=Object.getOwnPropertyDescriptor(e,r),n=o.value;return o.get=function(){return n},o.writable&&(o.set=function(s){return n=s}),delete o.value,delete o.writable,Object.defineProperty(e,r,o),o}function Qe(e){for(var r="",t=0;t<e;t++)r+=", arg"+t;return r.substr(2)}function Ze(e){var r=this.name+": "+this.namespace;this.message&&(r+=" deprecated "+this.message);for(var t=0;t<e.length;t++)r+=`
    at `+e[t].toString();return r}function er(e){if(!e)throw new TypeError("argument namespace is required");var r=I(),t=C(r[1]),o=t[0];function n(a){k.call(n,a)}return n._file=o,n._ignored=tr(e),n._namespace=e,n._traced=nr(e),n._warned=Object.create(null),n.function=ir,n.property=ur,n}function rr(e,r){var t=typeof e.listenerCount!="function"?e.listeners(r).length:e.listenerCount(r);return t>0}function tr(e){if(process.noDeprecation)return!0;var r=process.env.NO_DEPRECATION||"";return ee(r,e)}function nr(e){if(process.traceDeprecation)return!0;var r=process.env.TRACE_DEPRECATION||"";return ee(r,e)}function k(e,r){var t=rr(process,"deprecation");if(!(!t&&this._ignored)){var o,n,a,s,i=0,f=!1,y=I(),b=this._file;for(r?(s=r,a=C(y[1]),a.name=s.name,b=a[0]):(i=2,s=C(y[i]),a=s);i<y.length;i++)if(o=C(y[i]),n=o[0],n===b)f=!0;else if(n===this._file)b=this._file;else if(f)break;var h=o?s.join(":")+"__"+o.join(":"):void 0;if(!(h!==void 0&&h in this._warned)){this._warned[h]=!0;var g=e;if(g||(g=a===s||!a.name?Z(s):Z(a)),t){var S=re(this._namespace,g,y.slice(i));process.emit("deprecation",S);return}var U=process.stderr.isTTY?ar:or,L=U.call(this,g,o,y.slice(i));process.stderr.write(L+`
`,"utf8")}}}function C(e){var r=e.getFileName()||"<anonymous>",t=e.getLineNumber(),o=e.getColumnNumber();e.isEval()&&(r=e.getEvalOrigin()+", "+r);var n=[r,t,o];return n.callSite=e,n.name=e.getFunctionName(),n}function Z(e){var r=e.callSite,t=e.name;t||(t="<anonymous@"+B(e)+">");var o=r.getThis(),n=o&&r.getTypeName();return n==="Object"&&(n=void 0),n==="Function"&&(n=o.name||n),n&&r.getMethodName()?n+"."+t:t}function or(e,r,t){var o=new Date().toUTCString(),n=o+" "+this._namespace+" deprecated "+e;if(this._traced){for(var a=0;a<t.length;a++)n+=`
    at `+t[a].toString();return n}return r&&(n+=" at "+B(r)),n}function ar(e,r,t){var o="\x1B[36;1m"+this._namespace+"\x1B[22;39m \x1B[33;1mdeprecated\x1B[22;39m \x1B[0m"+e+"\x1B[39m";if(this._traced){for(var n=0;n<t.length;n++)o+=`
    \x1B[36mat `+t[n].toString()+"\x1B[39m";return o}return r&&(o+=" \x1B[36m"+B(r)+"\x1B[39m"),o}function B(e){return Ve(Je,e[0])+":"+e[1]+":"+e[2]}function I(){var e=Error.stackTraceLimit,r={},t=Error.prepareStackTrace;Error.prepareStackTrace=sr,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(r);var o=r.stack.slice(1);return Error.prepareStackTrace=t,Error.stackTraceLimit=e,o}function sr(e,r){return r}function ir(e,r){if(typeof e!="function")throw new TypeError("argument fn must be a function");var t=Qe(e.length),o=I(),n=C(o[1]);n.name=e.name;var a=new Function("fn","log","deprecate","message","site",`"use strict"
return function (`+t+`) {log.call(deprecate, message, site)
return fn.apply(this, arguments)
}`)(e,k,this,r,n);return a}function ur(e,r,t){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var o=Object.getOwnPropertyDescriptor(e,r);if(!o)throw new TypeError("must call property on owner object");if(!o.configurable)throw new TypeError("property must be configurable");var n=this,a=I(),s=C(a[1]);s.name=r,"value"in o&&(o=Ye(e,r,t));var i=o.get,f=o.set;typeof i=="function"&&(o.get=function(){return k.call(n,t,s),i.apply(this,arguments)}),typeof f=="function"&&(o.set=function(){return k.call(n,t,s),f.apply(this,arguments)}),Object.defineProperty(e,r,o)}function re(e,r,t){var o=new Error,n;return Object.defineProperty(o,"constructor",{value:re}),Object.defineProperty(o,"message",{configurable:!0,enumerable:!1,value:r,writable:!0}),Object.defineProperty(o,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(o,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(o,"stack",{configurable:!0,enumerable:!1,get:function(){return n!==void 0?n:n=Ze.call(this,t)},set:function(s){n=s}}),o}});var ae=p((Xr,oe)=>{"use strict";oe.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?cr:fr);function cr(e,r){return e.__proto__=r,e}function fr(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(e,t)||(e[t]=r[t]);return e}});var se=p(($r,lr)=>{lr.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}});var ce=p((zr,ue)=>{"use strict";var W=se();ue.exports=m;m.message=W;m.code=pr(W);m.codes=dr(W);m.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};m.empty={204:!0,205:!0,304:!0};m.retry={502:!0,503:!0,504:!0};function pr(e){var r={};return Object.keys(e).forEach(function(o){var n=e[o],a=Number(o);r[n.toLowerCase()]=a}),r}function dr(e){return Object.keys(e).map(function(t){return Number(t)})}function mr(e){var r=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(m.code,r))throw new Error('invalid status message: "'+e+'"');return m.code[r]}function ie(e){if(!Object.prototype.hasOwnProperty.call(m.message,e))throw new Error("invalid status code: "+e);return m.message[e]}function m(e){if(typeof e=="number")return ie(e);if(typeof e!="string")throw new TypeError("code must be a number or string");var r=parseInt(e,10);return isNaN(r)?mr(e):ie(r)}});var fe=p((Kr,X)=>{typeof Object.create=="function"?X.exports=function(r,t){t&&(r.super_=t,r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:X.exports=function(r,t){if(t){r.super_=t;var o=function(){};o.prototype=t.prototype,r.prototype=new o,r.prototype.constructor=r}}});var le=p((Vr,z)=>{try{if($=require("util"),typeof $.inherits!="function")throw"";z.exports=$.inherits}catch{z.exports=fe()}var $});var de=p((Jr,pe)=>{"use strict";pe.exports=yr;function yr(e){return e.split(" ").map(function(r){return r.slice(0,1).toUpperCase()+r.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}});var he=p((Yr,v)=>{"use strict";var gr=ne()("http-errors"),me=ae(),P=ce(),K=le(),br=de();v.exports=A;v.exports.HttpError=hr();v.exports.isHttpError=wr(v.exports.HttpError);Cr(v.exports,P.codes,v.exports.HttpError);function ye(e){return+(String(e).charAt(0)+"00")}function A(){for(var e,r,t=500,o={},n=0;n<arguments.length;n++){var a=arguments[n],s=typeof a;if(s==="object"&&a instanceof Error)e=a,t=e.status||e.statusCode||t;else if(s==="number"&&n===0)t=a;else if(s==="string")r=a;else if(s==="object")o=a;else throw new TypeError("argument #"+(n+1)+" unsupported type "+s)}typeof t=="number"&&(t<400||t>=600)&&gr("non-error status code; use only 4xx or 5xx status codes"),(typeof t!="number"||!P.message[t]&&(t<400||t>=600))&&(t=500);var i=A[t]||A[ye(t)];e||(e=i?new i(r):new Error(r||P.message[t]),Error.captureStackTrace(e,A)),(!i||!(e instanceof i)||e.status!==t)&&(e.expose=t<500,e.status=e.statusCode=t);for(var f in o)f!=="status"&&f!=="statusCode"&&(e[f]=o[f]);return e}function hr(){function e(){throw new TypeError("cannot construct abstract class")}return K(e,Error),e}function vr(e,r,t){var o=be(r);function n(a){var s=a??P.message[t],i=new Error(s);return Error.captureStackTrace(i,n),me(i,n.prototype),Object.defineProperty(i,"message",{enumerable:!0,configurable:!0,value:s,writable:!0}),Object.defineProperty(i,"name",{enumerable:!1,configurable:!0,value:o,writable:!0}),i}return K(n,e),ge(n,o),n.prototype.status=t,n.prototype.statusCode=t,n.prototype.expose=!0,n}function wr(e){return function(t){return!t||typeof t!="object"?!1:t instanceof e?!0:t instanceof Error&&typeof t.expose=="boolean"&&typeof t.statusCode=="number"&&t.status===t.statusCode}}function Er(e,r,t){var o=be(r);function n(a){var s=a??P.message[t],i=new Error(s);return Error.captureStackTrace(i,n),me(i,n.prototype),Object.defineProperty(i,"message",{enumerable:!0,configurable:!0,value:s,writable:!0}),Object.defineProperty(i,"name",{enumerable:!1,configurable:!0,value:o,writable:!0}),i}return K(n,e),ge(n,o),n.prototype.status=t,n.prototype.statusCode=t,n.prototype.expose=!1,n}function ge(e,r){var t=Object.getOwnPropertyDescriptor(e,"name");t&&t.configurable&&(t.value=r,Object.defineProperty(e,"name",t))}function Cr(e,r,t){r.forEach(function(n){var a,s=br(P.message[n]);switch(ye(n)){case 400:a=vr(t,s,n);break;case 500:a=Er(t,s,n);break}a&&(e[n]=a,e[s]=a)})}function be(e){return e.substr(-5)!=="Error"?e+"Error":e}});var we=p((Qr,ve)=>{var Pr=require("crypto");ve.exports=function(){return Pr.randomBytes(16)}});var Pe=p((Zr,Ce)=>{var Ee=[];for(R=0;R<256;++R)Ee[R]=(R+256).toString(16).substr(1);var R;function Or(e,r){var t=r||0,o=Ee;return[o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]]].join("")}Ce.exports=Or});var Te=p((et,Oe)=>{var Tr=we(),xr=Pe();function Rr(e,r,t){var o=r&&t||0;typeof e=="string"&&(r=e==="binary"?new Array(16):null,e=null),e=e||{};var n=e.random||(e.rng||Tr)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r)for(var a=0;a<16;++a)r[o+a]=n[a];return r||xr(n)}Oe.exports=Rr});var Re=p((rt,xe)=>{"use strict";var Sr=require("assert"),H=["DEBUG","INFO","WARN","ERROR"],Lr=()=>{},q=(e,r)=>{let t;return e[r]&&typeof e[r]=="function"?t=e[r]:t=e.minimumLogLevel!==void 0?(console[r]||console.log).bind(console):Lr,(...o)=>{if(!(e.minimumLogLevel!==void 0&&H.indexOf(e.minimumLogLevel)>H.indexOf(r.toUpperCase())))return t(...o)}};function jr(e){let r=e||{};return r.minimumLogLevel!==void 0&&Sr(H.indexOf(r.minimumLogLevel)!==-1,`"minimumLogLevel" must be one of: ${H.join(", ")} or "undefined"`),{error:q(r,"error"),warn:q(r,"warn"),info:q(r,"info"),debug:q(r,"debug")}}xe.exports={loggerWrapper:jr}});var Ie=p((tt,ke)=>{"use strict";var Nr=require("querystring"),_r=Te(),{loggerWrapper:kr}=Re(),Ne=Symbol("lambda-router:custom-response"),Ir=Symbol("trace-id");ke.exports={Router:Ar,getTraceId:V,createProxyResponse:_e};function Ar({logger:e,extractPathParameters:r=!0,trimTrailingSlash:t=!1,includeTraceId:o=!0,includeErrorStack:n=!1,cors:a=!0,parseBody:s=!0,assumeJson:i=!1,decodeEvent:f=!0,normalizeHeaders:y=!1}={}){let b=e;b&&b.events&&b.setKey&&b.events.on("beforeHandler",(u,l)=>{b.setKey("traceId",V(u,l))}),e=kr(e);let h=[],g=(u,l,d)=>{h.push({method:u,path:l,handler:d})},S=[],U=u=>{typeof u=="function"&&S.push(u)},L=Ur,j={"Content-Type":"application/json"};a&&(j["Access-Control-Allow-Origin"]=typeof a=="boolean"?"*":a);let N,Ue=async(u,l,d,O)=>{let T,w,F=Fr(u.headers),E={...j};if(l.response){let c="context.response has already been assigned. Lambda-router reserves this property for custom responses.";return e.error(c),Promise.reject(new Error(c))}l.response=qr.bind(null,l),l.response.setHeader=(c,G)=>{E[c]=G},O=O||u.method||u.httpMethod,d=d||u.path||u.resourcePath||u.resource,t&&(d=d.replace(/\/$/,"")),y&&(u.rawHeaders=u.headers,u.headers=F);let x=Hr(h,u,d,O,r),J=u.body&&typeof u.body=="string",M=F&&F["content-type"],Fe=J&&(je(M,"application/json")||!M&&i),Me=J&&je(M,"application/x-www-form-urlencoded");try{s&&(u.rawBody=u.body,Fe?u.body=JSON.parse(u.body):Me&&(u.body=Nr.parse(u.body))),f&&(e.debug("decoding parameters"),u.pathParameters=Le(u.pathParameters||{}),u.queryStringParameters=Le(u.queryStringParameters||{}))}catch(c){return e.error("route error",c.toString(),c.stack),Se(400,{message:"Malformed request"},j,x.path,d)}o&&(l.traceId=E["X-Correlation-Id"]=V(u,l));try{for(let G of S)await G(u,l,d,O);let c=await(x?x.handler(u,l):L(u,l,d,O,h));c&&c._isCustomResponse===Ne?(T=c.statusCode,w=c.body,E={...j,...c.headers}):(T=200,w=c)}catch(c){T=c.statusCode||500,w={...c,message:c.message,name:c.name,stack:n&&c.stack},c.headers&&(E={...E,...c.headers}),N&&typeof N=="function"&&(w=N(T,w))}return Se(T,w,E,x&&x.path,d)};return{beforeRoute:U,get:g.bind(null,"GET"),post:g.bind(null,"POST"),put:g.bind(null,"PUT"),delete:g.bind(null,"DELETE"),patch:g.bind(null,"PATCH"),unknown:u=>{L=u},formatError:u=>{N=u},route:Ue}}function qr(e,r,t,o){let n={statusCode:r,body:t,headers:o};return e.includeTraceId&&e.traceId&&(o["X-Correlation-Id"]=e.traceId),Object.defineProperty(n,"_isCustomResponse",{enumerable:!1,configurable:!1,value:Ne}),n}function Hr(e,r,t,o,n){let a=e.find(s=>t===s.path&&o===s.method);if(!a){let s;a=e.find(i=>o!==i.method?!1:(s=Dr(t,i),!!s)),n&&s&&(r.pathParameters||(r.pathParameters={}),Object.assign(r.pathParameters,s))}return a}function Dr(e,r){let t=e.split("/"),o=r.path.split("/");if(t.length!==o.length)return!1;let n={};for(let a=1;a<t.length;++a){let s=t[a],i=o[a],f=/\{(\w+)}/g.exec(i);if(f){n[f[1]]=s;continue}if(i!==s)return!1}return n}function Ur(e,r,t,o,n){let a=n.filter(i=>t===i.path).map(i=>i.method),s=new Error(`Endpoint not supported: ${o}${t}`);throw s.statusCode=404,a.length&&(s.statusCode=405,s.headers={Allow:a.join(",")}),s}function Se(e,r,t,o,n){return{endpoint:o,uri:n,isOk:e.toString()[0]==="2",response:_e(e,r,t)}}function _e(e,r,t={}){return t["Content-Type"]===void 0&&(t["Content-Type"]="application/json"),{statusCode:e,body:typeof r=="object"?JSON.stringify(r):r,headers:{...t}}}function V(e,r){let t=e.headers&&(e.headers["X-Trace-Id"]||e.headers["X-TRACE-ID"]||e.headers["x-trace-id"]||e.headers["X-Correlation-Id"]||e.headers["X-CORRELATION-ID"]||e.headers["x-correlation-id"])||r.awsRequestId||_r();return r[Ir]=t,t}function Le(e){return e&&Object.keys(e).reduce((r,t)=>(r[t]=decodeURIComponent(e[t]),r),{})}function je(e,r){return!e||!r?!1:(e=e.toLowerCase(),r=r.toLowerCase(),e===r?!0:e.split(";").includes(r))}function Fr(e={}){return Object.keys(e).reduce((r,t)=>(r[t.toLowerCase()]=e[t],r),{})}});var Gr={};ze(Gr,{handler:()=>Mr});module.exports=Ke(Gr);var qe=Q(he(),1),He=Q(Ie(),1);var Ae={get:()=>"Hello World"};var D=(0,He.Router)({cors:!0,logger:console,includeErrorStack:process.env.stage!=="prod"});D.get("/hello",Ae.get);D.unknown((e,r,t)=>{(0,qe.default)(404,"Not found")});D.formatError((e,r)=>(console.error("[ERROR] ",r?.message,r?.stack),r?.message));var De=D;async function Mr(e,r){return r.callbackWaitsForEmptyEventLoop=!1,(await De.route(e,r)).response}0&&(module.exports={handler});
/*! Bundled license information:

depd/index.js:
  (*!
   * depd
   * Copyright(c) 2014-2018 Douglas Christopher Wilson
   * MIT Licensed
   *)

statuses/index.js:
  (*!
   * statuses
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toidentifier/index.js:
  (*!
   * toidentifier
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

http-errors/index.js:
  (*!
   * http-errors
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
//# sourceMappingURL=index.js.map
